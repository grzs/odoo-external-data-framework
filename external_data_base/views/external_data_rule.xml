<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Window actions -->
    <record id="external_data_rule_action_window" model="ir.actions.act_window">
	<field name="name">External Data Rule</field>
	<field name="res_model">external.data.rule</field>
    </record>

    <!-- Views -->
    <record id="external_data_rule_form_view" model="ir.ui.view">
	<field name="name">External Data Process Rule</field>
	<field name="model">external.data.rule</field>
	<field name="arch" type="xml">
	    <form>
		<sheet>
		    <group>
			<field name="name"/>
			<field name="pre_post"/>
			<field name="key"/>
		    </group>
		    <group>
			<field name="field_mapping_id"/>
			<field name="object_id"/>
		    </group>
		    <notebook>
			<page string="Operations">
			    <group>
				<field name="operation" widget="selection"/>
				<field name="operation_help" widget="selection"/>
				<field name="condition" style="font-family: monospace;" class="bg-dark text-light"/>
			    </group>
			    <group attrs="{'invisible': [('operation', '!=', 'replace')]}">
				<field name="sub_pattern" style="font-family: monospace;" class="bg-dark text-light"/>
				<field name="sub_repl" style="font-family: monospace;" class="bg-dark text-light"/>
				<field name="sub_count"/>
			    </group>
			    <group attrs="{'invisible': [('operation', '!=', 'lambda')]}">
				<field name="lambda_str"
				       style="font-family: monospace;" class="bg-dark text-light"/>
			    </group>
			    <group attrs="{'invisible': [('operation', '!=', 'eval')]}">
				<field name="eval_str"
				       style="font-family: monospace;" class="bg-dark text-light"/>
			    </group>
			    <group attrs="{'invisible': [('operation', '!=', 'orm_ref')]}">
				<field name="orm_ref"
				       style="font-family: monospace;" class="bg-dark text-light"/>
			    </group>
			    <group attrs="{'invisible': [('operation', '!=', 'orm_expr')]}">
				<field name="orm_model"/>
				<field name="orm_domain" style="font-family: monospace;" class="bg-dark text-light"/>
				<field name="orm_limit"/>
				<field name="orm_filter" style="font-family: monospace;" class="bg-dark text-light"/>
				<field name="orm_map" style="font-family: monospace;" class="bg-dark text-light"/>
				<field name="orm_field" style="font-family: monospace;" class="bg-dark text-light"/>
			    </group>
			</page>
		    </notebook>
		</sheet>
	    </form>
	</field>
    </record>

</odoo>
